---
import Layout from "../../layouts/Layout.astro";
import { projects } from "../../datas/projects";
import { getProjectImages } from "../../utils/imageFinder";
import ProjectCard from "../../components/project-card.astro";
import Footer from "../../components/footer.astro";
import "../../styles/globals.css";

// Get images for projects
const projectsWithImages = projects.map((project) => ({
  ...project,
  images: getProjectImages(project.title),
}));
---

<Layout title="Tous les projets - Portfolio">
  <main>
    <!-- Projects Section -->
    <section class="py-20 px-6">
      <div class="container mx-auto">
        <div class="mb-12">
          <a href="/" class="text-primary hover:underline mb-4 inline-block">
            ‚Üê Go back
          </a>
          <h1 class="text-4xl font-bold mb-4">All my projects</h1>
          <p class="text-muted-foreground">
            Discover all my technical and creative achievements.
          </p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          {
            projectsWithImages.map((project) => (
              <ProjectCard {...project} client:load />
            ))
          }
        </div>
      </div>
    </section>
  </main>
</Layout>
